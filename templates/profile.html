{% extends "base.html" %}
{% block content %}

<div class="container">
  <!-- User title -->
    <div class="row mt3">     
        <div class="col s12 m4 l8 offset-l2 card-panel brilliant-rose ">
                <h2 class="white-text tourney-text fw5 center-align pa2">
                    {{ username|title }}'s Profile
                </h2>           
        </div>     
    </div>

    <div class="divider ma3"></div>

    <!-- Link to add new set -->
    <div class="row"> 
      <div class="flow-text center-align col s12 m6">
          <p>Click <a href="{{ url_for('add_set') }}">here</a> to add a new set</p>   
              <div class="add-item-button-container">
                  <a href="{{ url_for('add_set') }}"
                  class="btn-floating neon-green pulse" aria-label="add new set button">
                  <i class="fas fa-plus"></i>
                  </a>
              </div>         
      </div>
      <!-- Link to users favourite sets -->
      <div class="flow-text center-align col s12 m6">
        <p>Click <a href="{{ url_for('profile_favs', username=session['user']) }}">here</a> to view favourite sets</p>
            <div class="add-item-button-container">
                <a href="{{ url_for('profile_favs', username=session['user']) }}"
                class="btn-floating winter-sky pulse" aria-label="add new set button">
                <i class="fas fa-heart"></i>
                </a>
            </div>
      </div>
  </div>

  <div class="divider ma4"></div>

    <!-- Users Sets as Cards -->
      <div class="center-align">
          <h3 class="fw9 pb3">{{ username|title }}'s Sets</h3>
      </div>      
		  
		{% for set in sets if session.user|lower == set.created_by|lower %}
    <div class="row">
      <div class="col s12 m6">
        <div class="card large sticky action">
            <div class="card-image waves-effect waves-block waves-light">
              <img class="activator responsive-img" src="{{ url_for('static', filename='images/freestyle-unsplash.jpg') }}">
              <h4 class="ttu card-title white-text orange-pantone fw9">{{ set.category_name }}</h4>
            </div>
            <div class="card-content">
              <span class="card-title activator black-text">{{ set.set_name }}<i class="material-icons right">more_vert</i></span>
              <p class="black-text i">by: {{set.created_by }}</p>
            </div>
            <!-- CARD FRONT -->
            <div class="card-action">
              <!-- EDIT DELETE BUTTONS -->
              <!-- Tooltips on buttons in cards -->
              <div class="right-align ">
                <a href="{{ url_for('edit_set', set_id=set._id) }}" class="btn-floating btn-small waves-effect waves-light purple tooltipped" data-position="left" data-tooltip="EDIT"><i class="material-icons">edit</i>
                </a>
                <a href="{{ url_for('delete_set', set_id=set._id) }}" class="btn-floating btn-small waves-effect waves-light red tooltipped" data-position="top" data-tooltip="DELETE"><i class="material-icons">delete</i>
                </a>
              </div>
            </div>
            <!-- CARD REVEAL -->
            <div class="card-reveal">
              <span class="card-title grey-text text-darken-4"><i class="material-icons right">close</i></span>			  
              <table>
              <h5>{{ set.set_name }}</h5>
              <tbody>
                <tr>
                <td>Warm Up</td>
                <td>{{ set.warm_up }}</td>
                </tr>
                <tr>
                <td>Pre Set</td>
                <td>{{ set.pre_set }}</td>
                </tr>
                <tr>
                <td>Main Set</td>
                <td>{{ set.main_set }}</td>
                </tr>
                <tr>
                <td>Cool Down</td>
                <td>{{ set.cool_down }}</td>
                </tr>
                <tr>
                <td>Total Distance</td>
                <td>{{ set.total_km }}</td>
                </tr>
              </tbody>
              </table>
            </div>
        </div>
      </div>
    </div>
		{% endfor %}


</div>
{% endblock %}